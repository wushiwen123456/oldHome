(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Home/home"],{"04f5":function(n,e,t){"use strict";var a=t("5d22"),i=t.n(a);i.a},"17a3":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t("f607"),i=(t("5e74"),t("3dc2"),t("6cba")),o=function(){return t.e("components/uni-load-more/uni-load-more").then(t.bind(null,"69a6"))},c=function(){return t.e("components/QS-tabs/QS-tabs").then(t.bind(null,"efdf"))},r=function(){return Promise.all([t.e("common/vendor"),t.e("components/mescroll-uni/mescroll-uni")]).then(t.bind(null,"8e95"))},s=function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,"ae8a"))},u={components:{QSTabs:c,uniLoadMore:o,uniPopup:s,MescrollUni:r},data:function(){return{loadingimg:!1,loadingType:1,newsList:[],tabs_3:[],current_3:0,swiperList:[],homeTabs:[],homeTitle:[{id:0,name:"老家特产",image:"../../static/homea.png"},{id:1,name:"秒杀",image:"../../static/homeb.png"},{id:2,name:"拼团",image:"../../static/homec.png"},{id:3,name:"积分商城",image:"../../static/homed.png"},{id:4,name:"政府新闻",image:"../../static/homed.png"},{id:5,name:"公益信息",image:"../../static/homee.png"},{id:6,name:"易物平台",image:"../../static/homef.png"},{id:7,name:"更多",image:"../../static/homeg.png"}],productList:[],page:1,isShowIndex:!0,isLoading:!0,downOption:{use:!0,auto:!0},upOption:{use:!0,auto:!0,page:{num:0,size:10},noMoreSize:5,textNoMore:"-- 没有更多了 --",empty:{tip:"暂无相关数据"}},isLoading2:!1,isRemoveQian:!1,loadingOnce:!1}},onLoad:function(){this._getHomeData()},onReady:function(){this.loadingOnce||this.$refs.loading.open()},methods:{search:function(){n.navigateTo({url:"../HM-search/HM-search"})},change:function(n){if(this.current_3!=n){var e=this.$refs.mescroll.mescroll,t=this.tabs_3[n];this.current_3=n,this.productList=[],0!=this.current_3?(this.isShowIndex=!1,this.homeTabs=t):this.isShowIndex=!0,e.resetUpScroll()}},homeListClick:function(e){0==e?n.navigateTo({url:"Native/native"}):1==e?n.navigateTo({url:"Seckilltime/seckilltime"}):2==e?n.navigateTo({url:"BookingList/bookingList"}):3==e?n.navigateTo({url:"Integral/integralShop"}):4==e?n.navigateTo({url:"Government/government"}):5==e?n.navigateTo({url:"PublicMessage/publicmessage"}):6==e&&n.navigateTo({url:"Barter/BaterClsaaify"})},qian:function(){n.navigateTo({url:"qiandao"})},classifyClick:function(e,t){n.navigateTo({url:"../HM-search/HM-searchList?cid=".concat(e,"&name=").concat(t)})},detailsClck:function(e){n.navigateTo({url:"../ShopDetails/shopDetails?id="+e})},_getHomeData:function(e){var t=this;n.hideTabBar(),(0,a.getHomeData)().then(function(e){if(n.showTabBar(),t.$refs.loading.close(),t.loadingOnce=!0,200==e.statusCode){t.swiperList=e.data.data.banner,t.newsList=e.data.data.roll;var a=e.data.data.cate;a.unshift({cate_name:"推荐",child:[],id:0}),a.forEach(function(n){n.page=1}),t.tabs_3=a}}).catch(function(e){n.showTabBar()})},_getDetailData:function(n,e,t,o){var c=this;(0,a.getDetailData)({page:n,limit:e,hideModel:!0,cid:o||""}).then(function(a){if(c.$refs.loading.close(),c.loadingOnce=!0,200==a.statusCode){var o=a.data.data,r=a.data.data.map(function(n){return(0,i.replaceImage)(n.image)});o.length&&o.forEach(function(n,e){n.image=r[e]}),o.length<e?c.isLoading=!1:c.isLoading=!0,1==n&&(c.productList=[]),c.productList=c.productList.concat(o),t.endSuccess(o.length,c.isLoading)}}).catch(function(n){t.endErr()})},detail:function(e){e="../..".concat(e),n.navigateTo({url:e})},moreDetail:function(){n.switchTab({url:"../Classify/classify"})},downCallback:function(n){n.resetUpScroll()},upCallback:function(n){var e=0!=this.current_3?this.tabs_3[this.current_3].id:"",t=n.num,a=n.size;this._getDetailData(t,a,n,e)},dealTechan:function(n){return n.province.replace(/(['省''市'('自治区')])/g,"")},goNews:function(e){e.id;n.navigateTo({url:"Government/government"})},swiperShow:function(n){var e=this.swiperList;e=e.map(function(n){return n.pic}),plus.nativeUI.previewImage(e,n)},goMessage:function(){n.navigateTo({url:"/pages/My/Inform/inform"})},removeQian:function(){this.isRemoveQian=!0}}};e.default=u}).call(this,t("6e42")["default"])},"1c42":function(n,e,t){"use strict";t.r(e);var a=t("679e"),i=t("5324");for(var o in i)"default"!==o&&function(n){t.d(e,n,function(){return i[n]})}(o);t("04f5");var c=t("2877"),r=Object(c["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},5324:function(n,e,t){"use strict";t.r(e);var a=t("17a3"),i=t.n(a);for(var o in a)"default"!==o&&function(n){t.d(e,n,function(){return a[n]})}(o);e["default"]=i.a},"5b94":function(n,e,t){"use strict";(function(n){t("dead"),t("921b");a(t("66fd"));var e=a(t("1c42"));function a(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("6e42")["createPage"])},"5d22":function(n,e,t){},"679e":function(n,e,t){"use strict";var a=function(){var n=this,e=n.$createElement,t=(n._self._c,n.__map(n.productList,function(e,t){var a=n.dealTechan(e);return{$orig:n.__get_orig(e),m0:a}})),a=n.__map(n.productList,function(e,t){var a=n.dealTechan(e);return{$orig:n.__get_orig(e),m1:a}});n.$mp.data=Object.assign({},{$root:{l0:t,l1:a}})},i=[];t.d(e,"a",function(){return a}),t.d(e,"b",function(){return i})}},[["5b94","common/runtime","common/vendor"]]]);