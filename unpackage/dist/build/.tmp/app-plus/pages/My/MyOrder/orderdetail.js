(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/My/MyOrder/orderdetail","components/uni-popup/uni-popup"],{5306:function(t,e,a){"use strict";a.r(e);var i=a("569b"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"569b":function(t,e,a){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("58c8"),o=a("6cba"),r=(s(a("ae8a")),a("c940"));function s(t){return t&&t.__esModule?t:{default:t}}var c={data:function(){return{pageType:1,detailData:{},payFun:[{name:"微信",key:"weixin"},{name:"支付宝",key:"apay"}],payMethod:""}},onLoad:function(t){},onShow:function(){var e=this,a=this.$store.state.orderKey,i=this.$store.getters.isToken;a?i?this.$store.dispatch("detailOrder").then(function(t){e.$refs.loading.close(),200==t.data.code?e.dealRes(t):plus.nativeUI.toast(t.data.msg,{duration:"long"})}):t.navigateTo({url:"../../login/login"}):t.switchTab({url:"../../Home/home"})},onReady:function(){console.log(i(this.$refs.loading," at pages\\My\\MyOrder\\orderdetail.vue:225")),this.$refs.loading.open()},methods:{rightClick:function(){this.showModel()},closePopupsSharClick:function(t){this.payMethod=t.detail.value},cacelBackMoney:function(){},lookWuliu:function(){var e=this.detailData.order_id;t.navigateTo({url:"/pages/My/logistics/logistics?id=".concat(e)})},showModel:function(){var e=this;this.payMethod?"vx"==this.payMethod?(0,n.payorder)(this.detailData.unified_order,"weixin",this.$store.getters.isToken).then(function(a){var n=e.detailData.pay_price;if(200==a.data.code){var o=a.data.data;t.requestPayment({provider:"wxpay",orderInfo:o,success:function(a){if(console.log(i(a," at pages\\My\\MyOrder\\orderdetail.vue:263")),a.channel.serviceReady)if(e.detailData.combination_id||e.detailData.pink_id)t.redirectTo({url:"../../PayOrder/payOrderMessage/payorderMessage"});else{e.$store.commit("setOrderKey",e.detailData.unified_order);var o={real_name:e.detailData.real_name,phone:e.detailData.user_phone,detail:e.detailData.user_address};e.$store.commit("setShoppingAddress",o),t.redirectTo({url:"../../ShopDetails/affirm/success_pay?price=".concat(n)})}}})}}):this.payMethod:t.showToast({title:"请选择支付方式",icon:"none"})},copyOrder:function(e){if("p"==e){var a=this.detailData.order_id;t.setClipboardData({data:a})}else{var i=this.detailData.delivery_id;t.setClipboardData({data:i})}},payNow:function(t){(0,n.payorder)(this.detailData.unified_order,t,this.isToken)},isProduct:function(){},common:function(){},dealTuikuan:function(t){return!(t.combination_id||t.seckill_id||t.bargain_id)&&(1<=this.pageType&&3>=this.pageType)},dealRes:function(t){var e=t.data.data;this.pageType=e._status._type,e.cartInfo.forEach(function(t){t.productInfo.attrInfo&&(t.productInfo.attrInfo.image=(0,o.replaceImage)(t.productInfo.attrInfo.image));var e=(0,o.replaceImage)(t.productInfo.image);t.productInfo.image=e}),this.detailData=e},cancelOrder:function(){var e=this;t.showModal({title:"是否取消订单",content:"",success:function(a){a.confirm&&(0,n.cancelOrder)(e.detailData.order_id,e.$store.getters.isToken).then(function(e){200==e.data.code&&(t.showToast({title:"取消订单成功",icon:"none"}),t.navigateTo({url:"myorderss"}))})}})},tuikuan:function(e){e.phone=this.detailData.user_phone;var a=this.detailData.order_id;this.$store.commit("setProductInfo",e),t.navigateTo({url:"refund?id=".concat(a)})},goInfoStore:function(e){var a=e.shop_id;t.navigateTo({url:"../../ShopDetails/StoreDetails/storedetails?id=".concat(a)})},goInfoDetail:function(e,a){if(e.combination_id)this.$store.commit("setcombinId",e.combination_id),t.navigateTo({url:"../../ShopDetails/groubBooking"});else{var i=e.productInfo.id;t.navigateTo({url:"../../ShopDetails/shopDetails?id=".concat(i)})}},goChat:function(){var e=JSON.stringify(this.detailData.shopInfo);t.navigateTo({url:"/pages/ShopDetails/informtion/informtion?shopInfo="+e})},renfundClick:function(){this.cancelOrder()},goWuliu:function(){var e=this.detailData.order_id;t.navigateTo({url:"../logistics/logistics?id=".concat(e)})}},computed:{stateTextLeft:function(){switch(this.pageType){case-1:return"查看退货进度";case 0:return"取消订单";case 1:return"我要退款";case 2:return"查看物流"}},stateTextRight:function(){switch(this.pageType){case-1:return"取消退货";case 0:return"立即付款";case 1:return"提醒发货";case 2:return"确认收货"}},dealAddtime:function(){if(this.detailData._add_time){var t=new Date(1e3*this.detailData._add_time);return(0,r.formatDate)(t,"yyyy-MM-dd hh:mm:ss")}return""}}};e.default=c}).call(this,a("6e42")["default"],a("0de9")["default"])},"60c0":function(t,e,a){"use strict";a.r(e);var i=a("a397"),n=a("5306");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("a457");var r=a("2877"),s=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"13513128",null);e["default"]=s.exports},"66a3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},custom:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!0},show:{type:Boolean,default:!0}},data:function(){return{ani:"",showPopup:!1}},watch:{show:function(t){t?this.open():this.close()}},created:function(){},methods:{clear:function(){},open:function(){var t=this;this.$emit("change",{show:!0}),this.showPopup=!0,this.$nextTick(function(){setTimeout(function(){t.ani="uni-"+t.type},30)})},close:function(t){var e=this;!this.maskClick&&t||(this.$emit("change",{show:!1}),this.ani="",this.$nextTick(function(){setTimeout(function(){e.showPopup=!1},300)}))}}};e.default=i},"683a":function(t,e,a){"use strict";a.r(e);var i=a("66a3"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"6bde":function(t,e,a){},7084:function(t,e,a){"use strict";var i=a("f946"),n=a.n(i);n.a},a397:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=(t._self._c,Object.keys(this.detailData)),i=Object.keys(t.detailData),n=t.__map(t.detailData.cartInfo,function(e,a){var i=t.dealTuikuan(e);return{$orig:t.__get_orig(e),m0:i}}),o=parseInt(t.detailData.coupon_price);t.$mp.data=Object.assign({},{$root:{g0:a,g1:i,l0:n,m1:o}})},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},a457:function(t,e,a){"use strict";var i=a("6bde"),n=a.n(i);n.a},ae8a:function(t,e,a){"use strict";a.r(e);var i=a("c423"),n=a("683a");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("7084");var r=a("2877"),s=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},b465:function(t,e,a){"use strict";(function(t){a("dead"),a("921b");i(a("66fd"));var e=i(a("60c0"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},c423:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},f946:function(t,e,a){}},[["b465","common/runtime","common/vendor"]]]);