(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/My/MyOrder/myorder"],{2043:function(t,e,r){},"37a20":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=(t._self._c,t.__map(t.orderInfo,function(e,r){var n=t.storeName(e,r),a=t.DetlVoStatus(e),o=t.__map(e.cartInfo,function(e,r){var n=t.listImage(e,r);return{$orig:t.__get_orig(e),m2:n}}),i=t.dealBtnLeft(e),s=t.dealBtnRight(e);return{$orig:t.__get_orig(e),m0:n,m1:a,l0:o,m3:i,m4:s}}));t.$mp.data=Object.assign({},{$root:{l1:r}})},a=[];r.d(e,"a",function(){return n}),r.d(e,"b",function(){return a})},"669c":function(t,e,r){"use strict";r.r(e);var n=r("37a20"),a=r("fa47");for(var o in a)"default"!==o&&function(t){r.d(e,t,function(){return a[t]})}(o);r("ef05");var i=r("2877"),s=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},"83ef":function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r("64be"),o=r("0307"),i=r("e443"),s=function(){return r.e("components/tui-tabs/tui-tabs").then(r.bind(null,"0cd6"))},c=function(){return r.e("components/x-modal/x-modal").then(r.bind(null,"d43f"))},u={components:{tuiTabs:s,Modal:c},data:function(){return{windowHeight:0,Nodata:!1,currentTab:0,tabs2:[{name:"全部",page:0},{name:"待付款",page:0},{name:"待发货",page:0},{name:"待收货",page:0},{name:"待评价",page:0}],orderInfo:[],show1:!1,currentClick:-1,token:""}},onLoad:function(e){var r=this,a=parseInt(e.index);r.currentTab=a,t.getSystemInfo({success:function(t){r.windowHeight=t.windowHeight,console.log(n("屏幕高度为"+t.windowHeight," at pages\\My\\MyOrder\\myorder.vue:110"))}}),r.token=r.$store.getters.isToken,this.$store.getters.isToken?(this.orderInfo=[],this.userOrder(r.currentTab,r.token)):t.switchTab({url:"../../Home/home"})},onShow:function(){this.orderInfo=[],this.userOrder(this.currentTab,this.token)},methods:{detail:function(e,r){this.$store.commit("setOrderKey",e.order_id),t.navigateTo({url:"orderdetail"})},listImage:function(t,e){return t.productInfo.attrInfo?t.productInfo.attrInfo.image:t.productInfo.image},totalPrice:function(t,e){return t.cartInfo[0].productInfo.attrInfo?t.cartInfo[0].productInfo.attrInfo.price:t.cartInfo[0].productInfo.price},storeName:function(t,e){return t.shopInfo?t.shopInfo.shop_name:"integral"==t.pay_type?"客多多官方积分商城":void 0},showText:function(t,e){var r=t._status;switch(r._type){case 0:return"立即支付";case-1:return"申请退款中"}},change:function(t){this.currentTab=t.index,console.log(n(this.currentTab," at pages\\My\\MyOrder\\myorder.vue:165")),this.userOrder(this.currentTab,this.$store.getters.isToken)},userOrder:function(t,e){var r=this;(0,a.userOrder)(t,e).then(function(t){if(200==t.data.code){if(r.orderInfo=t.data.data,!r.orderInfo.length)return void(r.Nodata=!0);r.Nodata=!1,r.orderInfo.forEach(function(t){t.cartInfo.forEach(function(t){var e=t.productInfo.attrInfo?t.productInfo.attrInfo.image:t.productInfo.image,r=(0,o.replaceImage)(e);t.productInfo.attrInfo?t.productInfo.attrInfo.image=r:t.productInfo.image=r})})}})},tixing:function(){t.showToast({title:"已提醒买家发货",icon:"none"})},affirmClick:function(t,e){var r=t._status;switch(r._type){case 0:this.goPay(t);break;case-1:this.moneyBack(t);break;default:return}},goPay:function(e){this.$store.commit("setOrderKey",e.order_id),t.navigateTo({url:"orderdetail"})},lookWuliu:function(){t.navigateTo({url:""})},dealBtnLeft:function(t){var e=parseInt(t._status._type);switch(e){case 0:return"查看详情";case 1:return"查看详情";case 2:return"查看物流";case 3:return"查看物流"}},dealBtnRight:function(t){var e=parseInt(t._status._type);switch(e){case 0:return"立即付款";case 1:return"提醒卖家发货";case 2:return"确认收货";case 3:return"立即评价"}},DetlVoStatus:function(t){var e=parseInt(t._status._type);switch(e){case 0:return"等待付款";case 1:return"等待卖家发货";case 2:return"买家已发货";case 3:return"交易成功";default:return"交易完成"}},btnCliclLeft:function(e,r){var a=parseInt(e._status._type);switch(console.log(n(a," at pages\\My\\MyOrder\\myorder.vue:274")),a){case 0:this.detail(e);break;case 1:this.detail(e);break;case 2:var o=e.order_id;t.navigateTo({url:"../logistics/logistics?id=".concat(o)});break;case 3:t.navigateTo({});break}},btnClickRight:function(t,e){var r=parseInt(t._status._type);switch(r){case 0:this.detail(t);break;case 1:this.tixing();break;case 2:this.show1=!0,this.currentClick=e;break;case 3:break}},ConfirmOrder:function(){var t=this,e=this.orderInfo[this.currentClick];(0,i.affirmOrder)(e.order_id,this.token).then(function(e){200==e.data.code?(plus.nativeUI.toast("已收货"),t.orderInfo.splice(t.currentClick,1)):plus.nativeUI.toast(e.data.msg)})},goPingjia:function(e){this.$store.commit("setOrderDetail",e),t.navigateTo({url:"evaluate"})}}};e.default=u}).call(this,r("6e42")["default"],r("0de9")["default"])},ef05:function(t,e,r){"use strict";var n=r("2043"),a=r.n(n);a.a},fa35:function(t,e,r){"use strict";(function(t){r("20d5"),r("921b");n(r("66fd"));var e=n(r("669c"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,r("6e42")["createPage"])},fa47:function(t,e,r){"use strict";r.r(e);var n=r("83ef"),a=r.n(n);for(var o in n)"default"!==o&&function(t){r.d(e,t,function(){return n[t]})}(o);e["default"]=a.a}},[["fa35","common/runtime","common/vendor"]]]);