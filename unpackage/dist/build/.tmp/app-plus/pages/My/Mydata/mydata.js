(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/My/Mydata/mydata"],{1561:function(t,e,a){"use strict";a.r(e);var n=a("a14f"),o=a("3c73");for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);a("e72c");var i,r=a("f0c5"),u=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);e["default"]=u.exports},"3c73":function(t,e,a){"use strict";a.r(e);var n=a("836f"),o=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=o.a},"836f":function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a("d27c"),s=a("07b8"),i=a("6cba");function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){u(t,e,a[e])})}return t}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c=function(){return Promise.all([a.e("common/vendor"),a.e("components/w-picker/w-picker")]).then(a.bind(null,"2b9d"))},l=function(){return Promise.all([a.e("common/vendor"),a.e("components/yq-avatar/yq-avatar")]).then(a.bind(null,"3a65"))},d={components:{wPicker:c,avatar:l},data:function(){return{nickname:"",sextype:0,birth:"",phone:"",adddress:"",urls:["../../../static/bottomh.png","../../../static/bottomh.png"],avatar:"",status:0,isModel:!0,messageInfo:{},token:""}},onLoad:function(){this.messageInfo=this.$store.state.userInfo.userData;var e=r({},this.messageInfo),a=this.$store.state.userInfo.localAvatar||e.avatar;console.log(t(a," at pages\\My\\Mydata\\mydata.vue:95")),this.nickname=e.nickname,this.sextype=e.sex,this.urls[1]=a,this.phone=e.account,this.birth=e.birthday||"",this.token=this.$store.getters.isToken},onNavigationBarButtonTap:function(){var e=this;if(1!=this.status)if(this.isModel){var a={};a=this.avatar?{avatar:this.avatar,nickname:this.nickname,sex:this.sextype}:{nickname:this.nickname,sex:this.sextype},console.log(t(a," at pages\\My\\Mydata\\mydata.vue:129")),n.showLoading({title:"保存中..."}),(0,o.edit_user)(this.token,a).then(function(t){var o=e.messageInfo;if(o.nickname=a.nickname,o.sex=a.sex,a.avatar){var r=(0,i.replaceImage)(a.avatar);o.avatar=r,(0,s.saveAvatar)(r).then(function(t){e.$store.commit("setLocalAvatar",t),n.setStorageSync("Message_key",o),e.$store.commit("setUserData",o),n.hideLoading(),plus.nativeUI.toast("保存成功",{duration:"long"}),n.navigateBack()})}else n.setStorageSync("Message_key",o),e.$store.commit("setUserData",o),n.hideLoading(),plus.nativeUI.toast("保存成功",{duration:"long"}),n.navigateBack()})}else plus.nativeUI.toast("您当前正在选择/预览图片中,请点击上传/关闭后重试",{duration:"long"});else plus.nativeUI.toast("请等待图片上传完成...",{duration:"long"})},methods:{sexnanClick:function(){this.sextype=1},imgLoag:function(){console.log(t("图片加载完成"," at pages\\My\\Mydata\\mydata.vue:183"))},sexnvClick:function(){this.sextype=2},shopTypeClick:function(){this.$refs.date.show()},onConfirm:function(e){console.log(t(e.result," at pages\\My\\Mydata\\mydata.vue:195")),this.birth=e.result},doBefore:function(){this.isModel=!1},clk:function(t){this.$refs.avatar.fChooseImg(t,{selWidth:"350upx",selHeight:"350upx",expWidth:"260upx",expHeight:"260upx",inner:"true"})},closeImg:function(){this.isModel=!0},doUpload:function(e){var a=this;console.log(t(e," at pages\\My\\Mydata\\mydata.vue:212")),this.$set(this.urls,e.index,e.path),this.status=1,n.showLoading({title:"上传中..."});var s=e.path;(0,o.upload)(this.token,s,!0).then(function(t){a.avatar=t.url,a.isModel=!0,n.hideLoading(),a.status=2})}}};e.default=d}).call(this,a("0de9")["default"],a("6e42")["default"])},a14f:function(t,e,a){"use strict";var n,o=function(){var t=this,e=t.$createElement;t._self._c},s=[];a.d(e,"b",function(){return o}),a.d(e,"c",function(){return s}),a.d(e,"a",function(){return n})},d9d4:function(t,e,a){"use strict";(function(t){a("dead"),a("921b");n(a("66fd"));var e=n(a("1561"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},e393:function(t,e,a){},e72c:function(t,e,a){"use strict";var n=a("e393"),o=a.n(n);o.a}},[["d9d4","common/runtime","common/vendor"]]]);