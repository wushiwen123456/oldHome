(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/My/MyBooking/mybooking"],{"02a7":function(t,e,n){"use strict";(function(t){n("dead"),n("921b");o(n("66fd"));var e=o(n("0372"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"0372":function(t,e,n){"use strict";n.r(e);var o=n("2725"),i=n("b649");for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);n("6ad0");var a=n("2877"),r=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,null,null);e["default"]=r.exports},"1cc9":function(t,e,n){},2725:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.shopList,function(e,n){var o=t.bStatus(e),i=t.textLeft(e),s=t.textLeft(e),a=t.textRight(e),r=t.textRight(e);return{$orig:t.__get_orig(e),m0:o,m1:i,m2:s,m3:a,m4:r}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},3525:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("0ef8"),s=n("6cba"),a=r(n("8f99"));function r(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){return n.e("components/tui-tabs/tui-tabs").then(n.bind(null,"96d6"))},l=function(){return Promise.all([n.e("common/vendor"),n.e("components/mescroll-uni/mescroll-uni")]).then(n.bind(null,"8e95"))},f=function(){return n.e("components/x-modal/x-modal").then(n.bind(null,"f3c0"))},g={components:{tuiTabs:c,MescrollUni:l,Modal:f},data:function(){var t;return t={show1:!1,show2:!1,show3:!1,rshow1:!1,currentTab:0,isLoading:!1,tabs2:[{name:"全部"},{name:"拼团中"},{name:"成功"},{name:"失效"}],shopList:[],downOption:{use:!0,auto:!0},upOption:{use:!0,auto:!0,page:{num:0,size:10},noMoreSize:5,textNoMore:"-- 没有更多了 --",empty:{tip:"暂无相关数据"}},token:"",status:{},clickIndex:-1,hasNext:!1},u(t,"token",""),u(t,"style",{height:""}),t},onLoad:function(){this.token=this.$store.getters.isToken,this.myPooking();var e=t.getSystemInfoSync();this.style.height=e.windowHeight},methods:{change:function(t){this.currentTab=t.index,this.myPooking()},myPooking:function(){var t=this,e=this.token,n=this.currentTab;this.isLoading=!1,(0,i.myPooking)(n,e).then(function(e){if(t.isLoading=!0,200==e.data.code){var n=e.data.data;0==n.length?t.hasNext=!1:(t.hasNext=!0,n=t.dealImage(n),t.shopList=n),console.log(o(t.hasNext," at pages\\My\\MyBooking\\mybooking.vue:172"))}})},downCallback:function(t){this.myPooking(t)},upCallback:function(t){t.endErr()},dealImage:function(t){if(t.length)return t.forEach(function(t){t.cartInfo.forEach(function(t){var e=t.productInfo;e.attrInfo?e.attrInfo.image=(0,s.replaceImage)(e.attrInfo.image):e.image=(0,s.replaceImage)(e.image)})}),t},textLeft:function(t){if(t._status)return-1==t._status._type?"查看订单":1==t._status._type?"拼团中"==t._status._title?"查看详情":"查看订单":2==t._status._type?"查看订单":"查看详情"},textRight:function(t){if(t._status)return-1==t._status._type?"重新拼团":1==t._status._type?"拼团中"==t._status._title?"邀请好友":"查看详情":2==t._status._type?"":"重新拼团"},bStatus:function(t){return t._status?-1==t._status._type?"退款中":1==t._status._type?"拼团中"==t._status._title?"拼团中":"拼团成功":4==t._status._type?"拼团成功":-2==t._status._type?"退款完成":6==t._status._type?"拼团失败":2==t._status._type?"交易成功":void 0:""},btnLeft:function(t,e){t._status&&(-1==t._status._type?this.goPinkDetail(t):1==t._status._type?"拼团中"==t._status._title?this.goPinkDetail(t):this.goInDetail(t):-2==t._status._type?this.goPinkDetail(t):2==t._status._type?this.goInDetail(t):this.goPinkDetail(t))},btnRight:function(t,e){t._status&&(-1==t._status._type?this.goBooking(t.cartInfo[0]):1==t._status._type?"拼团中"==t._status._title?this.shareF(t):this.goPinkDetail(t):this.goBooking(t.cartInfo[0]))},shareF:function(e){var n=this,i=e.cartInfo[0].productInfo.image,s={href:"http://jn.51kdd.com/index.html#/",title:"老家商城",desc:"我正在老家商城发起拼团，敢来和我一起拼么",imgUrl:i},r=[{icon:"/static/sharemenu/wechatfriend.png",text:"微信好友"},{icon:"/static/sharemenu/wechatmoments.png",text:"朋友圈"},{icon:"/static/sharemenu/copyurl.png",text:"复制"},{icon:"/static/sharemenu/more.png",text:"更多"}];this.shareObj=(0,a.default)(s,r,function(e){console.log(o("点击按钮的序号: "+e," at pages\\My\\MyBooking\\mybooking.vue:324"));var n={href:s.href||"",title:s.title||"",summary:s.desc||"",success:function(t){console.log(o("success:"+JSON.stringify(t)," at pages\\My\\MyBooking\\mybooking.vue:330"))},fail:function(t){console.log(o("fail:"+JSON.stringify(t)," at pages\\My\\MyBooking\\mybooking.vue:333"))}};switch(e){case 0:n.provider="weixin",n.scene="WXSceneSession",n.type=0,n.imageUrl=s.imgUrl||"",t.share(n);break;case 1:n.provider="weixin",n.scene="WXSenceTimeline",n.type=0,n.imageUrl=s.imgUrl||"",t.share(n);break;case 2:t.setClipboardData({data:s.href,complete:function(){t.showToast({title:"已复制到剪贴板"})}});break;case 3:plus.share.sendWithSystem({type:"web",title:s.title||"",thumbs:[s.imgUrl||""],href:s.href||"",content:s.desc||""});break}}),this.$nextTick(function(){n.shareObj.alphaBg.show(),n.shareObj.shareMenu.show()})},left1:function(t){this.show1=!0,this.clickIndex=t,console.log(o(this.clickIndex," at pages\\My\\MyBooking\\mybooking.vue:380"))},left2:function(t){this.show2=!0,this.clickIndex=t},removeOrder:function(){t.showToast({title:"暂未实现",icon:"none"}),console.log(o(this.shopList[this.clickIndex]," at pages\\My\\MyBooking\\mybooking.vue:392"))},cancelOrder:function(){t.showToast({title:"暂未实现",icon:"none"}),console.log(o(this.shopList[this.clickIndex]," at pages\\My\\MyBooking\\mybooking.vue:400"))},goInDetail:function(e){this.$store.commit("setOrderKey",e.order_id);var n=e._status._type;-1==n||-2==n||6==n?t.navigateTo({url:"/pages/My/MyBooking/refund/refundMessage"}):t.navigateTo({url:"/pages/My/MyOrder/orderdetail"})},restart:function(e){var n=e.cartInfo[0].combination_id;this.$store.commit("setcombinId",n),t.navigateTo({url:"../../ShopDetails/groubBooking"})},goPinkDetail:function(e){var n=e.unified_order;this.$store.commit("setOrderKey",n),t.navigateTo({url:"../../PayOrder/payOrderMessage/payorderMessage"})},noticeP:function(e){t.showToast({title:"已通知卖家",icon:"none"})},goBooking:function(e){this.$store.commit("setcombinId",e.productInfo.id),t.navigateTo({url:"../../ShopDetails/groubBooking"})}}};e.default=g}).call(this,n("6e42")["default"],n("0de9")["default"])},"6ad0":function(t,e,n){"use strict";var o=n("1cc9"),i=n.n(o);i.a},b649:function(t,e,n){"use strict";n.r(e);var o=n("3525"),i=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);e["default"]=i.a}},[["02a7","common/runtime","common/vendor"]]]);