(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/My/logistics/logistics"],{"2a41":function(t,e,a){"use strict";a.r(e);var s=a("2b7f"),i=a("5d45");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("61d8");var n=a("2877"),c=Object(n["a"])(i["default"],s["a"],s["b"],!1,null,"8a3046a8",null);e["default"]=c.exports},"2b7f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=(t._self._c,Object.keys(t.logistInfo));t.$mp.data=Object.assign({},{$root:{g0:a}})},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},"5b1e":function(t,e,a){},"5d45":function(t,e,a){"use strict";a.r(e);var s=a("b1d3"),i=a.n(s);for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);e["default"]=i.a},"61d8":function(t,e,a){"use strict";var s=a("5b1e"),i=a.n(s);i.a},b1d3:function(t,e,a){"use strict";(function(t,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("58c8"),o=a("6cba"),n=c(a("673a"));function c(t){return t&&t.__esModule?t:{default:t}}var r=function(){return a.e("components/trackNode").then(a.bind(null,"fa82"))},u={components:{trackNode:r},data:function(){return{tracesData:[{acceptStation:"包裹已被吴亦发同学签收",createTime:"2019-10-24 15: 27: 16",status:"COMPLETE",phone:"",statusName:"已签收",isMainNode:!0},{acceptStation:"由派送员蔡小坤同志配送，电话：",createTime:"2019-10-24 15: 26: 41",status:"DELIVERING",phone:"16677778888",statusName:"运输中",isMainNode:!0},{acceptStation:"已到XXX小区快递点",createTime:"2019-10-24 15: 26: 41",status:"DELIVERING",phone:"",statusName:"运输中",isMainNode:!1},{acceptStation:"已到海宁集散中心",createTime:"2019-10-24 15: 26: 18",status:"DELIVERING",phone:"",statusName:"运输中",isMainNode:!1},{acceptStation:"已到杭州集散中心",createTime:"2019-10-24 15: 26: 07",status:"DELIVERING",phone:"",statusName:"运输中",isMainNode:!1},{acceptStation:"包裹已到达余杭区集散中心",createTime:"2019-10-24 15: 25: 54",status:"DELIVERING",phone:"",statusName:"运输中",isMainNode:!1},{acceptStation:"快递员已上门取件",createTime:"2019-10-24 15: 25: 17",status:"DELIVERING",phone:"",statusName:"已揽收",isMainNode:!1},{acceptStation:"快递员已上门取件",createTime:"2019-10-24 15: 25: 17",status:"DELIVERING",phone:"",statusName:"已揽收",isMainNode:!1},{acceptStation:"快递员已上门取件",createTime:"2019-10-24 15: 25: 17",status:"DELIVERING",phone:"",statusName:"已揽收",isMainNode:!1},{acceptStation:"快递员已上门取件",createTime:"2019-10-24 15: 25: 17",status:"DELIVERING",phone:"",statusName:"已揽收",isMainNode:!1}],height:0,orderDetail:{},productList:[],token:"",logistInfo:{},logistics:[],hackReset:!0}},onLoad:function(t){this.token=this.$store.getters.isToken;var e=t.id;this.token&&this.queryLogistics(e)},onReady:function(){this.$refs.loading.open()},methods:{queryLogistics:function(e){var a=this;(0,i.queryLogistics)(e,this.token).then(function(e){if(a.$refs.loading.close(),200==e.data.code){var s=e.data.data;if(a.dealImg(s.order),"ok"==s.express.msg){var i=s.express.result;a.dealLogistic(i,s),a.$nextTick(function(){a.hackReset=!0;var e=t.createSelectorQuery().select(".scroll-wrapper");e.fields({scrollOffset:!0,rect:!0},function(t){t.top&&(a.height="calc( 100vh - ".concat(t.top,"px )"))}).exec()})}else plus.nativeUI.toast(s.express.msg)}})},dealImg:function(t){console.log(s(t," at pages\\My\\logistics\\logistics.vue:209")),t.cartInfo.forEach(function(t){console.log(s(t," at pages\\My\\logistics\\logistics.vue:211"));var e=t.productInfo;console.log(s(e," at pages\\My\\logistics\\logistics.vue:213")),e.attrInfo&&(e.attrInfo.image=(0,o.replaceImage)(e.attrInfo.image)),e.image=(0,o.replaceImage)(e.image),console.log(s(e.image," at pages\\My\\logistics\\logistics.vue:218"))}),this.orderDetail=t,this.productList=this.orderDetail.cartInfo},dealLogistic:function(t,e){var a=this,i={name:e.order.delivery_name,delivery_id:e.order.delivery_id,logo:t.logo};this.logistInfo=i;var o=t.list,n=o.map(function(t,e){return{acceptStation:a.dealAcceptStation(t.status),createTime:t.time,status:a.dealStatus(t.status),phone:a.dealPhone(t.status),statusName:a.dealStatusName(t.status),isMainNode:a.dealStatusIsMainNode(t.status)}});this.tracesData=n,console.log(s(this.tracesData," at pages\\My\\logistics\\logistics.vue:243"))},dealAcceptStation:function(t){return t},dealStatus:function(t){return~t.indexOf("已签收")?"COMPLETE":"DELIVERING"},dealPhone:function(t){return t.match(/[0-9]{11}/)?t.match(/[0-9]{11}/).join(""):""},dealStatusName:function(t){return~t.indexOf("已签收")?"已签收":~t.indexOf("已揽收")?"已揽收":"运输中"},dealStatusIsMainNode:function(t){return!!~t.indexOf("已签收")||!!~t.indexOf("已揽收")},copyOrder:function(){n.default.setText(),plus.nativeUI.toast("已复制到剪贴板")}}};e.default=u}).call(this,a("6e42")["default"],a("0de9")["default"])},df15:function(t,e,a){"use strict";(function(t){a("dead"),a("921b");s(a("66fd"));var e=s(a("2a41"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])}},[["df15","common/runtime","common/vendor"]]]);