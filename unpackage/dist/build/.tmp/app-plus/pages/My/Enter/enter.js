(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/My/Enter/enter"],{"3c9d":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n("9126"),o=n("64be"),a=n("49da"),r=function(){return n.e("components/x-modal/x-modal").then(n.bind(null,"d43f"))},u={components:{Modal:r},data:function(){return{Modalshow:!1,windowHeight:0,shade:!0,enterType:-1,shopName:"",shoptype:"",adminName:"",phone:"",code:"",idCardOne:"",readtype:!1,codeTip:"获取验证码",currentTime:"60",getCodebutton:!1,idBei:"",businessLicense:"",trademark:"",brand:"",adminCard:"",token:"",isSubmit:"",Obj:{}}},onLoad:function(){var e=this;t.getSystemInfo({success:function(t){e.windowHeight=t.windowHeight,console.log(i("屏幕高度为"+t.windowHeight," at pages\\My\\Enter\\enter.vue:194"))}}),this.$store.getters.isToken?(this.token=this.$store.getters.isToken,this.isStatus(this.token)):t.showModal({title:"您还没有登录哦",content:"是否立即去登录",success:function(e){e.confirm&&t.navigateTo({url:"../../login/login"})}})},onBackPress:function(){if(!this.shade&&!this.Modalshow)return this.Modalshow=!0,!0},methods:{isStatus:function(t){var e=this;(0,o.isStatus)(t).then(function(t){var n=t.data.data.status;e.isSubmit="未申请"!=n})},getCode:function(){var e=this,n=e.currentTime;if(/^1[3456789]\d{9}$/.test(e.phone)){if(e.getCodebutton)return;e.getCodebutton=!0,(0,s.sendCode)(e.phone).then(function(t){if(200==t.data.code)var i=setInterval(function(){e.codeTip=n-1+"s",n--,n<=0&&(clearInterval(i),e.codeTip="获取验证码",e.getCodebutton=!1)},1e3)})}else t.showToast({title:"请输入正确的手机号",icon:"none"})},submit:function(){var e=this;if(this.readtype){if(!this.shopName)return t.showToast({title:"请输入您的商户名称"}),!1;if(!this.adminName)return t.showToast({title:"请输入您的姓名"}),!1;if(!this.phone)return t.showToast({title:"电话"}),!1;if(!this.code)return t.showToast({title:"请输入您的验证码"}),!1;if(!this.businessLicense)return t.showToast({title:"请上传您的营业执照"}),!1;if(!this.idCardOne)return t.showToast({title:"请上传您的身份证人像面"}),!1;if(!this.idBei)return t.showToast({title:"请上传您的身份证国徽面"}),!1;var n={shop_name:this.shopName,shop_leal:this.adminName,shop_tel:this.phone,shop_business_license:this.Obj.businessLicense,card_photo:this.Obj.idCardOne,card_coat:this.Obj.idBei,brand:this.brand||"",brand_code:this.adminCard||"",brand_img:this.Obj.trademark||"",type:this.enterType,shop_cate:this.shoptype,code:this.code};(0,o.enterShop)(n,this.token).then(function(n){200==n.data.code&&(t.showToast({title:"提交成功"}),e.$store.commit("setUserIsSubmit",!0)),e.isSubmit=!0})}else t.showToast({title:"请认真阅读协议哦",icon:"none"})},enterTypeClick:function(e){0==e?(this.enterType=1,t.setNavigationBarTitle({title:"个人入驻"})):1==e&&(this.enterType=2,t.setNavigationBarTitle({title:"企业入驻"})),this.shade=!1},openPhone:function(e){var n=this;t.chooseImage({count:1,success:function(t){n[e]=t.tempFilePaths[0],(0,a.upload)(t.tempFilePaths[0]).then(function(t){n.Obj[e]=t.url})}})},delAddressClcik:function(){t.navigateBack({})},readClick:function(){this.readtype=!this.readtype}}};e.default=u}).call(this,n("6e42")["default"],n("0de9")["default"])},"46ea":function(t,e,n){"use strict";n.r(e);var i=n("6d98"),s=n("f944");for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);n("6e36");var a=n("2877"),r=Object(a["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},6029:function(t,e,n){"use strict";(function(t){n("20d5"),n("921b");i(n("66fd"));var e=i(n("46ea"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"6d98":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},"6e36":function(t,e,n){"use strict";var i=n("af5b"),s=n.n(i);s.a},af5b:function(t,e,n){},f944:function(t,e,n){"use strict";n.r(e);var i=n("3c9d"),s=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=s.a}},[["6029","common/runtime","common/vendor"]]]);