(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/My/Enter/enter"],{"0033":function(t,e,i){"use strict";(function(t){i("dead"),i("921b");n(i("66fd"));var e=n(i("8482"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},"00b4":function(t,e,i){"use strict";var n,s=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"b",function(){return s}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return n})},8482:function(t,e,i){"use strict";i.r(e);var n=i("00b4"),s=i("b5fc");for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);i("97be");var a,r=i("f0c5"),u=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=u.exports},"97be":function(t,e,i){"use strict";var n=i("c5d8"),s=i.n(n);s.a},b5fc:function(t,e,i){"use strict";i.r(e);var n=i("d7f4"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=s.a},c5d8:function(t,e,i){},d7f4:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("a71b"),o=i("0ef8"),a=i("d27c"),r=function(){return i.e("components/x-modal/x-modal").then(i.bind(null,"f3c0"))},u={components:{Modal:r},data:function(){return{show1:!1,Modalshow:!1,windowHeight:0,shade:!0,enterType:-1,shopName:"",shoptype:"",adminName:"",phone:"",code:"",idCardOne:"",readtype:!1,codeTip:"获取验证码",currentTime:"60",getCodebutton:!1,idBei:"",businessLicense:"",trademark:"",brand:"",adminCard:"",token:"",isSubmit:!1,Obj:{},isSubText:"",msg:"",isImgLoad:0,idCardOneType:0,idBeiType:0,businessLicenseType:0,trademarkType:0}},onLoad:function(){var e=this;t.getSystemInfo({success:function(t){e.windowHeight=t.windowHeight,console.log(n("屏幕高度为"+t.windowHeight," at pages\\My\\Enter\\enter.vue:208"))}}),this.$store.getters.isToken?(this.token=this.$store.getters.isToken,this.isStatus(this.token)):t.showModal({title:"您还没有登录哦",content:"是否立即去登录",success:function(e){e.confirm&&t.navigateTo({url:"../../login/login"})}})},onReady:function(){this.$refs.loading.open()},onBackPress:function(){if(!this.shade&&!this.Modalshow)return this.Modalshow=!0,!0},methods:{isStatus:function(t){var e=this;(0,o.isStatus)(t).then(function(t){e.$refs.loading.close();var i=t.data.data.status;"未申请"==i?e.isSubmit=!1:"申请中"==i?(e.isSubmit=!0,e.isSubText="您的提交已经再受理中，请耐心等待审核~~~~"):"已通过"==i&&(e.isSubmit=!0,e.isSubText="恭喜您，已经通过审核,请在我的钱包中查看明细~~~")})},getCode:function(){var e=this,i=e.currentTime;if(/^1[3456789]\d{9}$/.test(e.phone)){if(e.getCodebutton)return;e.getCodebutton=!0,(0,s.sendCode)(e.phone).then(function(t){if(200==t.data.code){plus.nativeUI.toast("验证码已发送至您的手机",{duration:"long"});var n=setInterval(function(){e.codeTip=i-1+"s",i--,i<=0&&(clearInterval(n),e.codeTip="获取验证码",e.getCodebutton=!1)},1e3)}})}else t.showToast({title:"请输入正确的手机号",icon:"none"})},submit:function(){var t=this;if(this.readtype){if(!this.shopName)return this.shopName="商户名称不能为空",!1;if(!this.shoptype)return this.shoptype="主营分类不能为空",!1;if(!this.adminName)return this.adminName="管理员姓名不能为空",!1;if(!this.phone)return plus.nativeUI.toast("手机号码不能为空",{duration:"long"}),!1;if(!this.code)return plus.nativeUI.toast("请填写验证码",{duration:"long"}),!1;if(this.businessLicense,!this.idCardOne)return plus.nativeUI.toast("请上传您的身份证人像面",{duration:"long"}),!1;if(!this.idBei)return plus.nativeUI.toast("请上传您的身份证国徽面",{duration:"long"}),!1;if(1==this.idCardOneType||1==this.idBeiType||1==this.businessLicenseType||1==this.trademarkType)return plus.nativeUI.toast("请等待图片上传完成",{duration:"long"}),!1;var e={shop_name:this.shopName,shop_leal:this.adminName,shop_tel:this.phone,shop_business_license:this.Obj.businessLicense,card_photo:this.Obj.idCardOne,card_coat:this.Obj.idBei,brand:this.brand||"",brand_code:this.adminCard||"",brand_img:this.Obj.trademark||"",type:this.enterType,shop_cate:this.shoptype,code:this.code};(0,o.enterShop)(e,this.token).then(function(e){200==e.data.code?(plus.nativeUI.toast("提交成功",{duration:"long"}),t.$store.commit("setUserIsSubmit",!0),t.isSubmit=!0,t.isSubText="您的提交已经再受理中，请耐心等待审核~~~~"):(t.msg=e.data.msg,t.show1=!0)})}else plus.nativeUI.toast("请认真阅读协议",{duration:"long"})},enterTypeClick:function(e){0==e?(this.enterType=1,t.setNavigationBarTitle({title:"个人入驻"})):1==e&&(this.enterType=2,t.setNavigationBarTitle({title:"企业入驻"})),this.shade=!1},openPhone:function(e){var i=this;t.chooseImage({count:1,success:function(t){i[e]=t.tempFilePaths[0],console.log(n(e," at pages\\My\\Enter\\enter.vue:411")),i[e+"Type"]=1,(0,a.upload)(t.tempFilePaths[0]).then(function(t){i.Obj[e]=t.url,i[e+"Type"]=2})}})},tipsClick:function(t){this[t]=""},delAddressClcik:function(){t.navigateBack({})},readClick:function(){this.readtype=!this.readtype},reset:function(){this.shopName="",this.shoptype="",this.adminName="",this.phone="",this.code="",this.idCardOne="",this.idBei="",this.businessLicense="",this.trademark="",this.brand="",this.adminCard=""}}};e.default=u}).call(this,i("6e42")["default"],i("0de9")["default"])}},[["0033","common/runtime","common/vendor"]]]);