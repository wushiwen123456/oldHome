(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/HM-search/HM-search"],{3455:function(e,t,o){"use strict";(function(e){o("20d5"),o("921b");i(o("66fd"));var t=i(o("82be"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])},"73f3":function(e,t,o){},"7c30":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"a",function(){return i}),o.d(t,"b",function(){return a})},"82be":function(e,t,o){"use strict";o.r(t);var i=o("7c30"),a=o("8b0b");for(var n in a)"default"!==n&&function(e){o.d(t,e,function(){return a[e]})}(n);o("92a6");var s=o("2877"),r=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=r.exports},"8b0b":function(e,t,o){"use strict";o.r(t);var i=o("d5fd"),a=o.n(i);for(var n in i)"default"!==n&&function(e){o.d(t,e,function(){return i[e]})}(n);t["default"]=a.a},"92a6":function(e,t,o){"use strict";var i=o("73f3"),a=o.n(i);a.a},d5fd:function(e,t,o){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o("14c3"),n=function(){return o.e("components/mehaotian-search-revision/mehaotian-search-revision").then(o.bind(null,"802b"))},s={data:function(){return{defaultKeyword:"",keyword:"",oldKeywordList:[],hotKeywordList:[],keywordList:[],forbid:"",isShowKeywordList:!1,searchType:"",listOthers:"暂无此类别的商品哦,换个词试试吧"}},onLoad:function(){this.init(),this.searchType=this.$store.state.searchType},components:{mSearch:n},methods:{init:function(){this.loadDefaultKeyword(),this.loadOldKeyword(),this.loadHotKeyword()},blur:function(){e.hideKeyboard()},loadDefaultKeyword:function(){this.defaultKeyword="默认关键字"},loadOldKeyword:function(){var t=this;e.getStorage({key:"OldKeys",success:function(e){var o=JSON.parse(e.data);t.oldKeywordList=o}})},loadHotKeyword:function(){this.hotKeywordList=["测试","鼠标","显示器","电脑主机","蓝牙音箱","笔记本电脑","鼠标垫","USB","USB3.0"]},inputChange:function(e){var t=this,o=e.detail?e.detail.value:e;if(!o)return this.keywordList=[],void(this.isShowKeywordList=!1);this.isShowKeywordList=!0,"product"==this.searchType&&(0,a.getDetailData)({keyword:o}).then(function(e){var i=e.data.data;t.keywordList=t.drawCorrelativeKeyword(i,o)})},drawCorrelativeKeyword:function(e,t){for(var o=e.length,i=[],a=0;a<o;a++){var n=e[a],s=n.store_name.replace(t,"<span style='color: #9f9f9f;'>"+t+"</span>");s="<div>"+s+"</div>";var r={keyword:n.store_name,htmlStr:s,id:n.id};i.push(r)}return i},setkeyword:function(e){this.keyword=e.keyword},oldDelete:function(){var t=this;e.showModal({content:"确定清除历史搜索记录？",success:function(o){o.confirm?(console.log(i("用户点击确定"," at pages\\HM-search\\HM-search.vue:178")),t.oldKeywordList=[],e.removeStorage({key:"OldKeys"})):o.cancel&&console.log(i("用户点击取消"," at pages\\HM-search\\HM-search.vue:184"))}})},doInput:function(e){this.keyword=e,this.isShowKeywordList=!0,this.$refs.mSearch.isFocus=!0,this.inputChange(e)},hotToggle:function(){this.forbid=this.forbid?"":"_forbid"},doSearch:function(t,o){t=t||(this.keyword?this.keyword:this.defaultKeyword),this.keyword=t,this.saveKeyword(t),e.showToast({title:t,icon:"none",duration:2e3}),void 0!=o?e.navigateTo({url:"../ShopDetails/shopDetails?id=".concat(o)}):this.keywordList.length?e.navigateTo({url:"../ShopDetails/shopDetails?id=".concat(this.keywordList[0].id)}):e.showToast({title:"暂无此类别哦，换个词试试吧",icon:"none"})},saveKeyword:function(t){var o=this;e.getStorage({key:"OldKeys",success:function(a){console.log(i(a.data," at pages\\HM-search\\HM-search.vue:238"));var n=JSON.parse(a.data),s=n.indexOf(t);-1==s?n.unshift(t):(n.splice(s,1),n.unshift(t)),n.length>10&&n.pop(),e.setStorage({key:"OldKeys",data:JSON.stringify(n)}),o.oldKeywordList=n},fail:function(i){var a=[t];e.setStorage({key:"OldKeys",data:JSON.stringify(a)}),o.oldKeywordList=a}})},getFocus:function(e){console.log(i(e," at pages\\HM-search\\HM-search.vue:267"))}}};t.default=s}).call(this,o("6e42")["default"],o("0de9")["default"])}},[["3455","common/runtime","common/vendor"]]]);