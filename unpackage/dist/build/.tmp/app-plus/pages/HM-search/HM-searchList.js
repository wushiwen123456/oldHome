(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/HM-search/HM-searchList"],{"2a12":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=(e._self._c,e.px(e.selectH)),s=e.__map(e.productList,function(t,i){var s=e.dealTechan(t);return{$orig:e.__get_orig(t),m1:s}}),n=e.__map(e.productList,function(t,i){var s=e.dealTechan(t);return{$orig:e.__get_orig(t),m2:s}});e.$mp.data=Object.assign({},{$root:{m0:i,l0:s,l1:n}})},n=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return n})},"4c4b":function(e,t,i){"use strict";i.r(t);var s=i("2a12"),n=i("e682");for(var c in n)"default"!==c&&function(e){i.d(t,e,function(){return n[e]})}(c);i("d690");var o=i("2877"),a=Object(o["a"])(n["default"],s["a"],s["b"],!1,null,null,null);t["default"]=a.exports},"6f78":function(e,t,i){"use strict";(function(e){i("dead"),i("921b");s(i("66fd"));var t=s(i("4c4b"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},"8b72":function(e,t,i){},a5c1:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i("f607"),n=i("6cba");function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=function(){return i.e("components/icon/icon").then(i.bind(null,"147e"))},a=function(){return Promise.all([i.e("common/vendor"),i.e("components/mescroll-uni/mescroll-uni")]).then(i.bind(null,"8e95"))},r={components:{tuiIcon:o,MescrollUni:a},data:function(){return{shopNum:1,searchKey:"",searchKeyNum:"",width:200,height:64,inputTop:0,arrowTop:0,tabIndex:0,selectedName:"价格",selectH:0,dropdownList:[{name:"价格升序",selected:!1},{name:"价格降序",selected:!1}],productList:[],cid:"",loadingType:1,page:1,limit:10,listtype:-1,downOption:{use:!0,auto:!0},upOption:{use:!0,auto:!0,page:{num:0,size:10},noMoreSize:5,textNoMore:"-- 没有更多了 --",empty:{tip:"暂无相关数据"}},isHasNext:!0,sid:"",province:"",is_hot:!1,isDesc:!1,isLoad:!1}},onLoad:function(t){var i=this;this.cid=t.cid||"",this.searchKey=t.key||"",this.sid=t.sid||"",this.searchKeyNum=t.name||t.key,this.province=t.province||"";var s={};e.getSystemInfo({success:function(e){i.width=s.left||e.windowWidth,i.height=s.top?s.top+s.height+8:e.statusBarHeight+44,i.inputTop=s.top?s.top+(s.height-30)/2:e.statusBarHeight+7,i.arrowTop=s.top?s.top+(s.height-32)/2:e.statusBarHeight+6}})},methods:{downCallback:function(e){e.resetUpScroll()},upCallback:function(e){this.index(e)},dealTechan:function(e){return e.province.replace(/(['省''市'('自治区')])/g,"")},index:function(t){var i,o=this,a={},r=t.num,u=t.size;i={cid:this.sid,sid:this.cid,page:r,limit:u},c(i,"limit",this.limit),c(i,"keyword",this.searchKey),c(i,"salesOrder",1==this.tabIndex?this.isDesc?"desc":"asc":""),c(i,"priceOrder","价格"==this.selectedName?"":"价格降序"==this.selectedName?"desc":"asc"),c(i,"province",this.province),c(i,"is_hot",this.province?1:0),a=i,this.isLoad=!0,(0,s.getDetailData)(a).then(function(i){if(o.isLoad=!1,200==i.data.code){var s=i.data.data;s.length&&s.forEach(function(e){e.image=(0,n.replaceImage)(e.image)}),s.length<u?o.isHasNext=!1:o.isHasNext=!0,1==r&&(o.productList=[]),o.productList=o.productList.concat(s),t.endSuccess(s.length,o.isHasNext)}else e.showToast({title:i.data.msg,icon:"none"}),t.endErr()})},px:function(t){return e.upx2px(t)+"px"},showDropdownList:function(){this.selectH=180},hideDropdownList:function(){this.selectH=0},dropdownItem:function(e){var t=e.currentTarget.dataset.index;this.dropdownList.forEach(function(e){e.selected=!1}),this.dropdownList[t].selected=!0,this.selectedName=0==t?"价格升序":"价格降序",this.tabIndex=2,this.selectH=0,this.productList=[],this.$refs.mescroll.mescroll.resetUpScroll()},screen:function(e){var t=this.$refs.mescroll.mescroll,i=parseInt(e.currentTarget.dataset.index);switch(i){case 0:this.tabIndex=0,this.selectH=0,this.selectedName="价格",this.productList=[],t.resetUpScroll();break;case 1:this.tabIndex=1,this.selectH=0,this.isDesc=!this.isDesc,this.selectedName="价格",this.productList=[],t.resetUpScroll();break;case 2:0==this.selectH?this.showDropdownList():this.hideDropdownList();break}},back:function(){e.redirectTo({url:"HM-search"})},search:function(){e.navigateTo({url:"HM-search"})},search2:function(){var t=this.searchKeyNum;e.navigateTo({url:"HM-search?key=".concat(t)})},detail:function(t){var i=t.id;e.navigateTo({url:"../ShopDetails/shopDetails?id=".concat(i)})},deleteKey:function(){this.searchKeyNum=""}}};t.default=r}).call(this,i("6e42")["default"])},d690:function(e,t,i){"use strict";var s=i("8b72"),n=i.n(s);n.a},e682:function(e,t,i){"use strict";i.r(t);var s=i("a5c1"),n=i.n(s);for(var c in s)"default"!==c&&function(e){i.d(t,e,function(){return s[e]})}(c);t["default"]=n.a}},[["6f78","common/runtime","common/vendor"]]]);