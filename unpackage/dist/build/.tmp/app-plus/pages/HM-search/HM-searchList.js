(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/HM-search/HM-searchList"],{2354:function(t,e,i){"use strict";var s=i("a0b0"),c=i.n(s);c.a},"2fd2":function(t,e,i){"use strict";i.r(e);var s=i("3440"),c=i("bfec");for(var r in c)"default"!==r&&function(t){i.d(e,t,function(){return c[t]})}(r);i("2354");var n=i("2877"),d=Object(n["a"])(c["default"],s["a"],s["b"],!1,null,null,null);e["default"]=d.exports},3440:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=(t._self._c,t.px(t.selectH));t.$mp.data=Object.assign({},{$root:{m0:i}})},c=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return c})},7563:function(t,e,i){"use strict";(function(t){i("20d5"),i("921b");s(i("66fd"));var e=s(i("2fd2"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},a0b0:function(t,e,i){},bfec:function(t,e,i){"use strict";i.r(e);var s=i("e23e"),c=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);e["default"]=c.a},e23e:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("49da"),c=function(){return i.e("components/icon/icon").then(i.bind(null,"553c"))},r=function(){return i.e("components/uni-load-more/uni-load-more").then(i.bind(null,"da92"))},n={components:{tuiIcon:c,uniLoadMore:r},data:function(){return{shopNum:1,searchKey:"",searchKeyNum:"",width:200,height:64,inputTop:0,arrowTop:0,tabIndex:0,selectedName:"价格",selectH:0,dropdownList:[{name:"价格升序",selected:!1},{name:"价格降序",selected:!1}],productList:[],cid:"",loadingType:1,page:1,limit:10,listtype:-1}},onLoad:function(e){var i=this;this.cid=e.cid,this.searchKey=e.id,this.searchKeyNum=e.search;var s={};t.getSystemInfo({success:function(t){i.width=s.left||t.windowWidth,i.height=s.top?s.top+s.height+8:t.statusBarHeight+44,i.inputTop=s.top?s.top+(s.height-30)/2:t.statusBarHeight+7,i.arrowTop=s.top?s.top+(s.height-32)/2:t.statusBarHeight+6}}),this.index()},methods:{index:function(){var t=this,e={};e=this.cid?{sid:this.cid,page:this.page,limit:this.limit}:{keyword:this.searchKey,page:this.page,limit:this.limit},(0,s.get_product_list)(e).then(function(e){e.length<t.limit&&(t.loadingType=2),t.listtype=0,t.productList=e})},px:function(e){return t.upx2px(e)+"px"},showDropdownList:function(){this.selectH=180},hideDropdownList:function(){this.selectH=0},dropdownItem:function(t){var e=this,i=t.currentTarget.dataset.index;if(this.dropdownList.forEach(function(t){t.selected=!1}),this.dropdownList[i].selected=!0,this.selectedName=0==i?"价格升序":"价格降序",this.tabIndex=2,this.selectH=0,0==i){this.listtype=3;var c={};c=this.cid?{sid:this.cid,priceOrder:"asc"}:{keyword:this.searchKey,priceOrder:"asc"},(0,s.get_product_list)(c,this.$refs.loading).then(function(t){e.productList=t})}else{this.listtype=4;var r={};r=this.cid?{sid:this.cid,priceOrder:"desc"}:{keyword:this.searchKey,priceOrder:"desc"},(0,s.get_product_list)(r,this.$refs.loading).then(function(t){e.productList=t})}},screen:function(t){var e=this,i=t.currentTarget.dataset.index;if(0==i){this.tabIndex=0,this.listtype=0,this.selectH=0,this.selectedName="价格";var c={};c=this.cid?{sid:this.cid}:{keyword:this.searchKey},(0,s.get_product_list)(c,this.$refs.loading).then(function(t){e.productList=t})}else if(1==i)if(this.listtype=1,this.tabIndex=1,this.selectH=0,this.selectedName="价格",1==this.shopNum){var r={};r=this.cid?{sid:this.cid,salesOrder:"desc"}:{keyword:this.searchKey,salesOrder:"desc"},(0,s.get_product_list)(r,this.$refs.loading).then(function(t){e.productList=t}),this.shopNum=0}else{var n={};n=this.cid?{sid:this.cid,salesOrder:"asc"}:{keyword:this.searchKey,salesOrder:"asc"},(0,s.get_product_list)(n,this.$refs.loading).then(function(t){e.productList=t}),this.shopNum=1}else 2==i&&this.showDropdownList()},back:function(){t.navigateBack()},search:function(){t.redirectTo({url:"HM-search"})},detail:function(e){var i=e.id;t.navigateTo({url:"../ShopDetails/shopDetails?id=".concat(i)})}},onReachBottom:function(){var t=this;if(2!=this.loadingType){var e={};if(this.page+=1,0==this.listtype)e=this.cid?{sid:this.cid,page:this.page,limit:this.limit}:{keyword:this.searchKey,page:this.page,limit:this.limit};else if(1==this.listtype)if(1==this.shopNum)e=this.cid?{sid:this.cid,salesOrder:"desc"}:{keyword:this.searchKey,salesOrder:"desc"};else{this.cid?{sid:this.cid,salesOrder:"asc"}:{keyword:this.searchKey,salesOrder:"asc"}}else 2==this.listtype?e=this.cid?{sid:this.cid,priceOrder:"asc"}:{keyword:this.searchKey,priceOrder:"asc"}:3==this.listtype&&(e=this.cid?{sid:this.cid,priceOrder:"desc"}:{keyword:this.searchKey,priceOrder:"desc"});(0,s.get_product_list)(e).then(function(e){e.length<t.limit&&(t.loadingimg=!0,t.loadingType=2),t.productList=t.productList.concat(e)})}}};e.default=n}).call(this,i("6e42")["default"])}},[["7563","common/runtime","common/vendor"]]]);