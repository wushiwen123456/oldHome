(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ShopDetails/seckillTime"],{"08d4":function(e,t,i){"use strict";i.r(t);var o=i("9e29"),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);t["default"]=n.a},"15b6":function(e,t,i){"use strict";i.r(t);var o=i("abaa"),n=i("08d4");for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);i("1f0a");var s,c=i("f0c5"),l=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);t["default"]=l.exports},"1f0a":function(e,t,i){"use strict";var o=i("d0a9"),n=i.n(o);n.a},"2a77":function(e,t,i){"use strict";(function(e){i("dead"),i("921b");o(i("66fd"));var t=o(i("15b6"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},"9e29":function(e,t,i){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=i("dd11"),s=i("d383"),c=i("6cba"),l=r(i("8f99"));function r(e){return e&&e.__esModule?e:{default:e}}var u=function(){return i.e("components/numberbox/numberbox").then(i.bind(null,"cee3"))},p=function(){return i.e("components/uni-popup/uni-popup").then(i.bind(null,"ae8a"))},d=function(){return i.e("components/countdown/countdown").then(i.bind(null,"ceca"))},f=function(){return i.e("components/rate/rate").then(i.bind(null,"5ab0"))},h=function(){return Promise.all([i.e("common/vendor"),i.e("components/jyf-Parser/index")]).then(i.bind(null,"e407"))},m={components:{uniPopup:p,tuiNumberbox:u,tuiCountdown:d,tuiRate:f,parser:h},onUnload:function(){e.$off("videoDetail")},onLoad:function(){if(n=this,!this.$store.getters.isToken)return e.showModal({title:"请先去登录再来查看",success:function(t){t.confirm?e.navigateTo({url:"../login/login"}):e.navigateTo({url:"../Home/home"})}}),!1;if(this.$store.state.skillId){var t=this.$store.state.skillId,i=this.$store.getters.isToken;this.skillTime=this.$store.state.skillTime,this.getDetailSkill(t,i)}else e.switchTab({url:"../Home/home"})},onReady:function(){this.$refs.loading.open()},data:function(){return{timeList:0,payimgType:!0,swiperNum:0,videoUrl:"",swiperList:[],disCountList:[],skillTime:0,selectimg:[{img:"../../static/demo10.png"},{img:"../../static/demo11.png"},{img:"../../static/demo12.png"},{img:"../../static/demo13.png"}],shareList:[{img:"../../static/weixn.png",name:"微信好友"},{img:"../../static/pengyouq.png",name:"朋友圈"}],list:[{id:"0",title:"成人款A750g*1盒",type:!1},{id:"0",title:"儿童款B750g*1盒",type:!1},{id:"0",title:"混合款（15A+15B）750g*1盒",type:!1}],value:1,detailData:{},autoplay:!1,uniqueIndex:0,procuctObj:{},commont:{}}},onBackPress:function(){if(nvImageMenu.isVisible())return nvImageMenu.hide(),nvMask.hide(),!0},methods:{getDetailSkill:function(e,t){var i=this;(0,a.getDetailSkill)(e,t).then(function(e){if(i.$refs.loading.close(),200==e.data.code){var t=e.data.data;t.recommend_goods.forEach(function(e){e.image=(0,c.replaceImage)(e.image)}),t.storeInfo.image=(0,c.replaceImage)(t.storeInfo.image),t.storeInfo.images=t.storeInfo.images.map(function(e){return(0,c.replaceImage)(e)}),t.storeInfo.video=(0,c.replaceImage)(t.storeInfo.video),i.videoUrl=t.storeInfo.video,i.dealSwiper(t),i.dealTime(t),t.productValue&&i.dealProductValue(t);var o=t.reply;i.dealCommont(o),i.detailData=t}})},dealSwiper:function(e){this.swiperList=e.storeInfo.images.map(function(e,t){return{url:e,id:t,type:"image"}}),console.log(o(this.swiperList," at pages\\ShopDetails\\seckillTime.vue:488"))},dealTime:function(e){var t=e.storeInfo.stop_time,i=new Date,o=Math.round(i.getTime()/1e3);this.timeList=t-o},dealProductValue:function(e){var t=e.productValue,i=Object.keys(t);i.forEach(function(e,i){var o=(0,c.replaceImage)(t[e].image);t[e].image=o}),this.procuctObj=t},dealCommont:function(e){if(e){var t=e.pics.map(function(e){return(0,c.replaceImage)(e)});e.pics=t,e.avatar=(0,c.replaceImage)(e.avatar),this.commont=e}},selectShopClick:function(e,t,i){e.check?e.check=!1:(i.attr_value.forEach(function(e){e.check=!1}),e.check=!0)},goDetail:function(e){(0,s.clickDetail)(e)},selectimageClick:function(){0==this.swiperNum&&(this.payimgType=!1,this.ZhanTing())},selectPlayClick:function(){0!=this.swiperNum&&(this.payimgType=!0,this.BoFang())},swiperChange:function(e){this.swiperNum=e.target.current},serviceClick:function(t){var i=this.detailData.shop_info,o=JSON.stringify(i);e.navigateTo({url:"informtion/informtion?shopInfo="+o})},goMoreCommont:function(){var t=this.detailData.storeInfo.product_id;e.navigateTo({url:"shopComment?id=".concat(t)})},change:function(e){this.value=e.value},nowBuyClick:function(){var t=this;if(this.uniqueType){var i=this.detailData,n={productId:i.storeInfo.price,cartNum:this.value,uniqueId:this.uniqueType?this.uniqueType.unique:"",combinationId:"",secKillId:i.id,bargainId:"",shop_id:i.storeInfo.shop_id};this.$store.dispatch("Pay",n).then(function(i){if(console.log(o(i," at pages\\ShopDetails\\seckillTime.vue:596")),200==i.data.code){t.$store.commit("keepCartId",i.data.data.cartId);var n=t.$store.state.pinkInfo;Object.keys(n).length&&t.$store.commit("setOutPinkInfo"),e.navigateTo({url:"affirm/affirmOrder"})}else e.showToast({title:i.data.msg,icon:"none"})})}else e.showToast({title:"请选择商品属性",icon:"none"})},swiperDetail:function(){var e=this.swiperList;e=e.map(function(e){return e.url}),console.log(o(e," at pages\\ShopDetails\\seckillTime.vue:618")),plus.nativeUI.previewImage(e)},collectClick:function(){this.detailData.storeInfo.userCollect=!this.detailData.storeInfo.userCollect;var e={id:this.detailData.id,category:"seckill"};this.detailData.storeInfo.userCollect?this.$store.dispatch("collect",e).then(function(e){console.log(o(e," at pages\\ShopDetails\\seckillTime.vue:633")),e.data.code}):this.$store.dispatch("unCollect",e).then(function(e){console.log(o(e," at pages\\ShopDetails\\seckillTime.vue:641")),e.data.code})},shopClick:function(){e.navigateTo({url:"StoreDetails/storedetails?id="+this.detailData.storeInfo.shop_id})},outloginClick:function(){this.$refs.popups.close()},openImage:function(){var e=this.uniqueType?this.uniqueType.price:this.detailData.storeInfo.price;e&&plus.nativeUI.previewImage([e])},closePopupsClick:function(){this.$refs.popups.close()},outloginSharClick:function(){var t=this,i=this,n=i.detailData.storeInfo.title,a={href:"http://jn.51kdd.com/index.html#/?href=oldHome://abc",title:"老家商城",desc:"我正在老家商城购买"+n+",快来和我一起选购吧",imgUrl:i.detailData.storeInfo.image},s=[{icon:"/static/sharemenu/wechatfriend.png",text:"微信好友"},{icon:"/static/sharemenu/wechatmoments.png",text:"朋友圈"},{icon:"/static/sharemenu/copyurl.png",text:"复制"},{icon:"/static/sharemenu/more.png",text:"更多"}];this.shareObj=(0,l.default)(a,s,function(t){console.log(o("点击按钮的序号: "+t," at pages\\ShopDetails\\seckillTime.vue:699"));var i={href:a.href||"",title:a.title||"",summary:a.desc||"",success:function(t){console.log(o("success:"+JSON.stringify(t)," at pages\\ShopDetails\\seckillTime.vue:705")),e.hideLoading()},fail:function(t){console.log(o("fail:"+JSON.stringify(t)," at pages\\ShopDetails\\seckillTime.vue:709")),e.hideLoading()}};switch(t){case 0:i.provider="weixin",i.scene="WXSceneSession",i.type=0,i.imageUrl=a.imgUrl||"",e.showLoading({title:"加载中...",mask:!0}),e.share(i);break;case 1:i.provider="weixin",i.scene="WXSenceTimeline",i.type=0,i.imageUrl=a.imgUrl||"",e.showLoading({title:"加载中...",mask:!0}),e.share(i);break;case 2:e.setClipboardData({data:a.href,complete:function(){e.showToast({title:"已复制到剪贴板"})}});break;case 3:plus.share.sendWithSystem({type:"web",title:a.title||"",thumbs:[a.imgUrl||""],href:a.href||"",content:a.desc||""});break}}),this.$nextTick(function(){t.shareObj.alphaBg.show(),t.shareObj.shareMenu.show()})},closePopupsSharClick:function(){this.$refs.popup.close()},outloginShopClick:function(){this.$refs.popupbottom.open()},closePopupsShopClick:function(){this.$refs.popupbottom.close()},chooseClose:function(){this.$refs.popupbottom.close()},shareShowClick:function(t,i){"微信好友"==t.name&&e.share({provider:"weixin",scene:"WXSceneSession",type:0,href:"https://baidu.com",title:"老家商城分享",summary:"我正在使用老家商城购物，赶紧跟我一起来体验！",imageUrl:"../../../static/demo5.png",success:function(e){console.log(o("success:"+JSON.stringify(e)," at pages\\ShopDetails\\seckillTime.vue:789"))},fail:function(e){console.log(o("fail:"+JSON.stringify(e)," at pages\\ShopDetails\\seckillTime.vue:792"))}})},BoFang:function(){if(0==n.autoplay){e.$emit("videoDetail",{video:this.videoUrl});var t=e.getSubNVueById("video_mask_skll");console.log(o(t," at pages\\ShopDetails\\seckillTime.vue:808")),t.show("fade-in",300,function(){console.log(o("打开成功"," at pages\\ShopDetails\\seckillTime.vue:810"))})}},ZhanTing:function(){1==n.autoplay&&(n.autoplay=!1)}},computed:{isUserChoosed:function(){if(this.detailData){if(this.detailData.productAttr.length){var e=[];return this.detailData.productAttr.forEach(function(t,i){t.attr_value.forEach(function(t){t.check&&e.push(t.attr)})}),e.length?e:""}return!1}return!1},uniqueType:function(){var e=this;if(this.isUserChoosed){var t=this.detailData.productValue,i=Object.keys(t),o=this.isUserChoosed.join(","),n=i.filter(function(t,i){return t==o&&e.uniqueIndex,t==o});return t[n.join("")]||""}return!1}}};t.default=m}).call(this,i("6e42")["default"],i("0de9")["default"])},abaa:function(e,t,i){"use strict";var o,n=function(){var e=this,t=e.$createElement,i=(e._self._c,Object.keys(e.detailData)),o=Object.keys(e.detailData.productValue),n=Object.keys(e.commont),a=Object.keys(e.commont),s=Object.keys(e.commont);e.$mp.data=Object.assign({},{$root:{g0:i,g1:o,g2:n,g3:a,g4:s}})},a=[];i.d(t,"b",function(){return n}),i.d(t,"c",function(){return a}),i.d(t,"a",function(){return o})},d0a9:function(e,t,i){}},[["2a77","common/runtime","common/vendor"]]]);