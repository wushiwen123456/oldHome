(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ShopDetails/seckillTime"],{"19c3":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=(e._self._c,Object.keys(e.detailData)),o=Object.keys(e.detailData.productValue),n=Object.keys(e.commont),a=Object.keys(e.commont),s=Object.keys(e.commont);e.$mp.data=Object.assign({},{$root:{g0:i,g1:o,g2:n,g3:a,g4:s}})},n=[];i.d(t,"a",function(){return o}),i.d(t,"b",function(){return n})},"26bf":function(e,t,i){"use strict";i.r(t);var o=i("757b"),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);t["default"]=n.a},"2a95":function(e,t,i){"use strict";i.r(t);var o=i("19c3"),n=i("26bf");for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);i("f243");var s=i("2877"),c=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=c.exports},"757b":function(e,t,i){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=i("24d1"),s=i("8404"),c=i("0307"),l=r(i("d7df"));function r(e){return e&&e.__esModule?e:{default:e}}var u=function(){return i.e("components/numberbox/numberbox").then(i.bind(null,"1875"))},p=function(){return i.e("components/uni-popup/uni-popup").then(i.bind(null,"11ec"))},f=function(){return i.e("components/countdown/countdown").then(i.bind(null,"0033"))},d={components:{uniPopup:p,tuiNumberbox:u,tuiCountdown:f},onLoad:function(){if(n=this,!this.$store.getters.isToken)return e.showModal({title:"请先去登录再来查看",success:function(t){t.confirm?e.navigateTo({url:"../login/login"}):e.navigateTo({url:"../Home/home"})}}),!1;if(this.$store.state.skillId){var t=this.$store.state.skillId,i=this.$store.getters.isToken;this.getDetailSkill(t,i)}else e.switchTab({url:"../Home/home"})},data:function(){return{timeList:0,payimgType:!0,swiperNum:0,videoUrl:"",swiperList:[],disCountList:[],selectimg:[{img:"../../static/demo10.png"},{img:"../../static/demo11.png"},{img:"../../static/demo12.png"},{img:"../../static/demo13.png"}],shareList:[{img:"../../static/weixn.png",name:"微信好友"},{img:"../../static/pengyouq.png",name:"朋友圈"}],list:[{id:"0",title:"成人款A750g*1盒",type:!1},{id:"0",title:"儿童款B750g*1盒",type:!1},{id:"0",title:"混合款（15A+15B）750g*1盒",type:!1}],value:1,detailData:{},autoplay:!1,uniqueIndex:0,procuctObj:{},commont:{}}},onBackPress:function(){if(nvImageMenu.isVisible())return nvImageMenu.hide(),nvMask.hide(),!0},methods:{getDetailSkill:function(t,i){var o=this;(0,a.getDetailSkill)(t,i).then(function(t){if(200==t.data.code){var i=t.data.data;i.recommend_goods.forEach(function(e){e.image=(0,c.replaceImage)(e.image)}),i.storeInfo.image=(0,c.replaceImage)(i.storeInfo.image),i.storeInfo.images=i.storeInfo.images.map(function(e){return(0,c.replaceImage)(e)}),i.storeInfo.video=(0,c.replaceImage)(i.storeInfo.video),o.videoUrl=i.storeInfo.video,o.videoUrl&&(o.videoContext=e.createVideoContext("myVideo",o)),o.dealSwiper(i),o.dealTime(i),i.productValue&&o.dealProductValue(i);var n=i.reply;o.dealCommont(n),o.detailData=i}})},dealSwiper:function(e){this.swiperList=e.storeInfo.images.map(function(e,t){return{url:e,id:t,type:"image"}}),console.log(o(this.swiperList," at pages\\ShopDetails\\seckillTime.vue:487"))},dealTime:function(e){var t=e.storeInfo.stop_time,i=new Date,o=Math.round(i.getTime()/1e3);this.timeList=t-o},dealProductValue:function(e){var t=e.productValue,i=Object.keys(t);i.forEach(function(e,i){var o=(0,c.replaceImage)(t[e].image);t[e].image=o}),this.procuctObj=t},dealCommont:function(e){if(e){var t=e.pics.map(function(e){return(0,c.replaceImage)(e)});e.pics=t,e.avatar=(0,c.replaceImage)(e.avatar),this.commont=e}},selectShopClick:function(e,t,i){e.check?e.check=!1:(i.attr_value.forEach(function(e){e.check=!1}),e.check=!0)},goDetail:function(e){(0,s.clickDetail)(e)},selectimageClick:function(){0==this.swiperNum&&(this.payimgType=!1,this.ZhanTing())},selectPlayClick:function(){0!=this.swiperNum&&(this.payimgType=!0,this.BoFang())},swiperChange:function(e){this.swiperNum=e.target.current},serviceClick:function(t){e.navigateTo({url:"informtion/informtion?shopname="+t})},goMoreCommont:function(){var t=this.detailData.storeInfo.product_id;e.navigateTo({url:"shopComment?id=".concat(t)})},change:function(e){this.value=e.value},nowBuyClick:function(){var t=this;if(this.uniqueType){var i=this.detailData,n={productId:i.storeInfo.price,cartNum:this.value,uniqueId:this.uniqueType?this.uniqueType.unique:"",combinationId:"",secKillId:i.id,bargainId:"",shop_id:i.storeInfo.shop_id};this.$store.dispatch("Pay",n).then(function(i){if(console.log(o(i," at pages\\ShopDetails\\seckillTime.vue:592")),200==i.data.code){t.$store.commit("keepCartId",i.data.data.cartId);var n=t.$store.state.pinkInfo;Object.keys(n).length&&t.$store.commit("setOutPinkInfo"),e.navigateTo({url:"affirm/affirmOrder"})}else e.showToast({title:i.data.msg,icon:"none"})})}else e.showToast({title:"请选择商品属性",icon:"none"})},swiperDetail:function(){var e=this.swiperList.slice(1,this.swiperList.length-1);e=e.map(function(e){return e.url}),console.log(o(e," at pages\\ShopDetails\\seckillTime.vue:614")),plus.nativeUI.previewImage(e)},collectClick:function(){var t=this,i={id:this.detailData.id,category:"seckill"};this.detailData.storeInfo.userCollect?this.$store.dispatch("unCollect",i).then(function(i){console.log(o(i," at pages\\ShopDetails\\seckillTime.vue:640")),200==i.data.code&&(t.detailData.storeInfo.userCollect=!1,e.showToast({title:"收藏成功",icon:"none"}))}):this.$store.dispatch("collect",i).then(function(i){console.log(o(i," at pages\\ShopDetails\\seckillTime.vue:628")),200==i.data.code&&(t.detailData.storeInfo.userCollect=!0,e.showToast({title:"收藏成功",icon:"none"}))})},shopClick:function(){e.navigateTo({url:"StoreDetails/storedetails?id="+this.detailData.storeInfo.shop_id})},outloginClick:function(){this.$refs.popups.close()},openImage:function(){var e=this.uniqueType?this.uniqueType.price:this.detailData.storeInfo.price;e&&plus.nativeUI.previewImage([e])},closePopupsClick:function(){this.$refs.popups.close()},outloginSharClick:function(){var t=this,i={href:"https://uniapp.dcloud.io",title:"老家商城",desc:"快来老家，和我一起秒杀",imgUrl:"/static/56524a9a3b6bdab0753eb8ed922d57d.png"};this.shareObj=(0,l.default)(i,this.shareList,function(t){console.log(o("点击按钮的序号: "+t," at pages\\ShopDetails\\seckillTime.vue:683"));var n={href:i.href||"",title:i.title||"",summary:i.desc||"",success:function(e){console.log(o("success:"+JSON.stringify(e)," at pages\\ShopDetails\\seckillTime.vue:689"))},fail:function(e){console.log(o("fail:"+JSON.stringify(e)," at pages\\ShopDetails\\seckillTime.vue:692"))}};switch(t){case 0:n.provider="weixin",n.scene="WXSceneSession",n.type=0,n.imageUrl=i.imgUrl||"",e.share(n);break;case 1:n.provider="weixin",n.scene="WXSenceTimeline",n.type=0,n.imageUrl=i.imgUrl||"",e.share(n);break;case 2:e.setClipboardData({data:i.href,complete:function(){e.showToast({title:"已复制到剪贴板"})}});break;case 3:plus.share.sendWithSystem({type:"web",title:i.title||"",thumbs:[i.imgUrl||""],href:i.href||"",content:i.desc||""});break}}),this.$nextTick(function(){t.shareObj.alphaBg.show(),t.shareObj.shareMenu.show()})},closePopupsSharClick:function(){this.$refs.popup.close()},outloginShopClick:function(){this.$refs.popupbottom.open()},closePopupsShopClick:function(){this.$refs.popupbottom.close()},chooseClose:function(){this.$refs.popupbottom.close()},shareShowClick:function(t,i){"微信好友"==t.name&&e.share({provider:"weixin",scene:"WXSceneSession",type:0,href:"https://baidu.com",title:"老家商城分享",summary:"我正在使用老家商城购物，赶紧跟我一起来体验！",imageUrl:"../../../static/demo5.png",success:function(e){console.log(o("success:"+JSON.stringify(e)," at pages\\ShopDetails\\seckillTime.vue:764"))},fail:function(e){console.log(o("fail:"+JSON.stringify(e)," at pages\\ShopDetails\\seckillTime.vue:767"))}})},BoFang:function(){0==n.autoplay&&(n.autoplay=!0,this.videoContext.play())},ZhanTing:function(){1==n.autoplay&&(n.autoplay=!1)}},computed:{isUserChoosed:function(){if(this.detailData){if(this.detailData.productAttr.length){var e=[];return this.detailData.productAttr.forEach(function(t,i){t.attr_value.forEach(function(t){t.check&&e.push(t.attr)})}),e.length?e:""}return!1}return!1},uniqueType:function(){var e=this;if(this.isUserChoosed){var t=this.detailData.productValue,i=Object.keys(t),o=this.isUserChoosed.join(","),n=i.filter(function(t,i){return t==o&&e.uniqueIndex,t==o});return t[n.join("")]||""}return!1}}};t.default=d}).call(this,i("6e42")["default"],i("0de9")["default"])},"95f4":function(e,t,i){},f243:function(e,t,i){"use strict";var o=i("95f4"),n=i.n(o);n.a},fa0e:function(e,t,i){"use strict";(function(e){i("20d5"),i("921b");o(i("66fd"));var t=o(i("2a95"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])}},[["fa0e","common/runtime","common/vendor"]]]);