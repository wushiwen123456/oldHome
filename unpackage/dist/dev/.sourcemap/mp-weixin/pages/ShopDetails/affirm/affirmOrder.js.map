{"version":3,"sources":["webpack:///D:/项目/oldHome/main.js","webpack:///D:/项目/oldHome/pages/ShopDetails/affirm/affirmOrder.vue?bbe6","webpack:///D:/项目/oldHome/pages/ShopDetails/affirm/affirmOrder.vue?eb7e","webpack:///D:/项目/oldHome/pages/ShopDetails/affirm/affirmOrder.vue?afc8","webpack:///D:/项目/oldHome/pages/ShopDetails/affirm/affirmOrder.vue?56e8","webpack:///D:/项目/oldHome/pages/ShopDetails/affirm/affirmOrder.vue","webpack:///D:/项目/oldHome/pages/ShopDetails/affirm/affirmOrder.vue?8c93","webpack:///D:/项目/oldHome/pages/ShopDetails/affirm/affirmOrder.vue?15f7"],"names":["createPage","Page","components","uniPopup","data","shareShow","Noaddress","isCard","discountsType","count","cartId","token","cartInfo","address","disCountList","curDiscountList","currentIndex","currentIndex2","currentPayVal","onReady","onLoad","onShow","console","log","$store","state","isToken","length","uni","showToast","title","icon","success","switchTab","url","userAddresss","getAffirmInfo","navigateTo","methods","radioChange","e","detail","value","productPrice","item","index2","index","$set","productInfo","attrInfo","price","totalPrice","orderMessage","getCouponOrder","disCountListCurr","disCountClick","used","forEach","x","then","res","code","showModal","cancelColor","confirmColor","showCancel","confirmText","confirm","catch","err","usableCoupon","push","getDiscountClick","uniPopupClick","$refs","open","shareShowclose","close","shippingAddressClick","addAddressClick","submitOrderClick","dealData","obj","that","status","map","key","orderKey","mark","couponId","filter","cid","addressId","id","bargainId","bargain_id","combinationId","combination_id","seckill_id","pinkId","content","JSON","stringify","goPay","IsCard","dealImg","image","disCountTitle","coupon_title","uniOrder","computed","post","reduce","prev","postage","toFixed","oldPrice","prev2","x2","cart_num","c","d","a","coupon_price"],"mappings":"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","file":"pages/ShopDetails/affirm/affirmOrder.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/ShopDetails/affirm/affirmOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./affirmOrder.vue?vue&type=template&id=5373e19c&scoped=true&\"\nimport script from \"./affirmOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./affirmOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./affirmOrder.vue?vue&type=style&index=0&id=5373e19c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5373e19c\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\hubilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5373e19c', component.options)\n    } else {\n      api.reload('5373e19c', component.options)\n    }\n    module.hot.accept(\"./affirmOrder.vue?vue&type=template&id=5373e19c&scoped=true&\", function () {\n      api.rerender('5373e19c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"项目/oldHome/pages/ShopDetails/affirm/affirmOrder.vue\"\nexport default component.exports","export * from \"-!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./affirmOrder.vue?vue&type=template&id=5373e19c&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.cartInfo, function(item, index) {\n    var l0 = _vm.__map(item.cartInfo, function(item2, index2) {\n      var m0 = _vm.dealImg(item2.productInfo.image)\n      var m1 = _vm.productPrice(item2, index2, index)\n      return {\n        $orig: _vm.__get_orig(item2),\n        m0: m0,\n        m1: m1\n      }\n    })\n\n    var m2 = _vm.disCountTitle(item, index)\n    return {\n      $orig: _vm.__get_orig(item),\n      l0: l0,\n      m2: m2\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./affirmOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./affirmOrder.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniPopup  from \"@/components/uni-popup/uni-popup\"\n\n// 导入订单详情和提交订单和收货地址和\nimport { getAffirmInfo,placeOrder } from '@/network/affirm.js'\nimport { getAddress } from '@/network/getProfileData'\n\n// 导入用户优惠信息\n// import { getUserDiscount } from '@/network/getProfileData.js'\n\n// 导入工具类\nimport { replaceImage } from '@/utils/dealUrl.js'\n\n// 导入vuex\nimport { mapGetters } from 'vuex'\nexport default{\n\tcomponents:{\n\t\tuniPopup\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tshareShow:false,\n\t\t\tNoaddress:false,//是否存在默认地址\n\t\t\tisCard:true,//true用红包  false 不用红包\n\t\t\tdiscountsType:false,//优惠券选择\n\t\t\tcount:'',\n\t\t\tcartId:'',\n\t\t\ttoken:'',\n\t\t\tcartInfo:[],//订单详情\n\t\t\taddress:{},//地址信息\n\t\t\tdisCountList:[],//优惠券信息\n\t\t\tcurDiscountList:[] ,//当前循环\n\t\t\tcurrentIndex:0,\n\t\t\tcurrentIndex2:0,\n\t\t\tcurrentPayVal:''\n\t\t}\n\t},\n\tonReady() {\n\t\t\n\t},\n\tonLoad() {\n\t\t\n\t},\n\tonShow() {\n\t\tconsole.log(this.$store.state.cartId)\n\t\tif(this.isToken){\n\t\t\tif(!this.$store.state.cartId.length){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:'未知错误',\n\t\t\t\t\ticon:\"none\",\n\t\t\t\t\tsuccess() {\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl:\"../../Home/home\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\t// 获取用户默认收货地址\n\t\t\t\tthis.userAddresss(this.isToken)\n\t\t\t\t// 订单id\n\t\t\t\tthis.cartId = this.$store.state.cartId\n\t\t\t\t// 获取订单信息\t\t\t\t\n\t\t\t\tthis.getAffirmInfo(this.cartId,this.isToken)\n\t\t\t\t// 获取用户优惠券 1表示未使用\n\t\t\t\t// this.getUserDiscount(1,this.isToken)\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\tuni.showToast({\n\t\t\t\ttitle:'未知错误',\n\t\t\t\ticon:\"none\",\n\t\t\t\t\n\t\t\t})\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"../../login/login\"\n\t\t\t})\n\t\t}\n\t},\n\tmethods:{\n\t\t// 支付方式选中：\n\t\tradioChange(e){\n\t\t\tthis.currentPayVal = e.detail.value\n\t\t\tconsole.log(this.currentPayVal)\n\t\t},\n\t\t// 商品价格单个\n\t\tproductPrice(item,index2,index){\n\t\t\tthis.$set(item,'totalPrice',item.productInfo.attrInfo ? item.productInfo.attrInfo.price : item.productInfo.price)\n\t\t\treturn item.totalPrice\n\t\t},\n\t\t//列表详情\n\t\torderMessage(){\n\t\t\t\n\t\t},\n\t\t//获取当前金额可用优惠券\n\t\tgetCouponOrder(){\n\t\t\t\n\t\t},\n\t\tdisCountListCurr(){\n\t\t\t\n\t\t},\n\t\t// 选择优惠券\n\t\tdisCountClick(item,index){\n\t\t\tif(!item.used){\n\t\t\t\tthis.curDiscountList.forEach(x => {\n\t\t\t\t\tx.used = false\n\t\t\t\t})\n\t\t\t}\n\t\t\titem.used = !item.used\n\t\t\tif(this.discountsType){\n\t\t\t\tthis.discountsType = !this.discountsType\n\t\t\t}\n\t\t\tthis.currentIndex2 = index\n\t\t},\n\t\t//获取用户默认地址\n\t\tuserAddresss(token){\n\t\t\tgetAddress(token)\n\t\t\t.then(res => {\n\t\t\t\tif(res.data.code == 200){\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tif(res.data.data.length == 0){\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle:'您还没有设置默认地址，快去设置吧',\n\t\t\t\t\t\t\tcancelColor:\"#333333\",\n\t\t\t\t\t\t\tconfirmColor:\"#333333\",\n\t\t\t\t\t\t\tshowCancel:false,\n\t\t\t\t\t\t\tconfirmText:\"立即设置\",\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl:\"../../My/address/AllAddress\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.Noaddress = true\n\t\t\t\t\t\tthis.address= res.data.data\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 获取订单信息\n\t\tgetAffirmInfo(cartId,token){\n\t\t\tgetAffirmInfo(cartId,token)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tif(res.data.code == 200){\n\t\t\t\t\tthis.cartInfo = res.data.data.cartInfo\n\t\t\t\t\tthis.cartInfo.forEach((item,index) => {\n\t\t\t\t\t\tthis.$set(item,'mark','')\n\t\t\t\t\t\titem.usableCoupon.forEach(x => {\n\t\t\t\t\t\t\tthis.$set(x,'used',false)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.disCountList.push(item.usableCoupon)\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'未知错误'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t//优惠券全不选\n\t\tgetDiscountClick(){\n\t\t\tif(!this.discountsType){\n\t\t\t\tthis.disCountList[this.currentIndex].forEach(x => {\n\t\t\t\t\tx.used = false\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.discountsType = true\n\t\t},\n\t\t// 判断商铺是否有优惠券\n\t\tuniPopupClick(item,index){\t\t\t\t\n\t\t\tif(item.usableCoupon != null){\n\t\t\t\tthis.currentIndex = index\n\t\t\t\tthis.curDiscountList = this.disCountList[this.currentIndex]\n\t\t\t\tthis.$refs.shareShow.open()\n\t\t\t}else{\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\t\t\n\t\tshareShowclose(){\n\t\t\t\n\t\t\tthis.$refs.shareShow.close()\n\t\t},\n\t\t\n\t\t\n\t\t//收货地址\n\t\tshippingAddressClick(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'../../My/address/AllAddress'\n\t\t\t})\n\t\t},\n\t\t//添加收货地址\n\t\taddAddressClick(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'../../My/address/addAddress'\n\t\t\t})\n\t\t},\n\t\t//提交订单\n\t\tsubmitOrderClick(){\n\n\t\t\t// 对提交的数据进行处理\n\t\t\tthis.dealData()\n\t\t},\n\t\tdealData(){\n\t\t\tif(this.currentPayVal == ''){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:'请选择支付方式',\n\t\t\t\t\ticon:'none'\n\t\t\t\t})\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tlet obj = {}\n\t\t\tlet that = this\n\t\t\tobj.status = this.isCard ? '1':'0' //是否使用红包\n\t\t\t// 计算买家使用的优惠券\n\t\t\tobj.data = this.cartInfo.map((item,index) => { \t\n\t\t\t\treturn {\n\t\t\t\t\tkey:item.orderKey,\n\t\t\t\t\tmark:item.mark || '', //买家备注，一个商铺只有一个\n\t\t\t\t\tcouponId:this.disCountList[index] ? (this.disCountList[index].filter(x => x.used)[0]?this.disCountList[index].filter(x => x.used)[0].cid:\"\") : '',\t ////优惠券信息\n\t\t\t\t\taddressId : that.address.id || \"\", //地址id\n\t\t\t\t\tbargainId:item.cartInfo[0].bargain_id || \"\",\n\t\t\t\t\tcombinationId:item.cartInfo[0].combination_id || \"\",\n\t\t\t\t\tseckill_id:item.cartInfo[0].seckill_id || \"\" ,\n\t\t\t\t\tpinkId:item.cartInfo[0].pinkId || ''\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\tuni.showModal({\n\t\t\t\ttitle:'确定要提交订单么',\n\t\t\t\tcontent:'请认真核对您的收货地址,确保地址正确',\n\t\t\t\tsuccess:(res) => {\n\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\t// 发送提交请求\n\t\t\t\t\t\tplaceOrder(JSON.stringify(obj),this.isToken).then(res => {\n\t\t\t\t\t\t\t//对返回的数据进行处理\n\t\t\t\t\t\t\tif(res.data.code == 200)\n\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\tthis.goPay(res)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t//是用红包\n\t\tIsCard(e) {\n\t\t\tthis.isCard = e.detail.value\n\t\t},\n\t\tdealImg(image){\n\t\t\treturn replaceImage(image)\n\t\t},\n\t\tdisCountTitle(item,index){\n\t\t if(item.usableCoupon.length){\n\t\t\t if(this.disCountList[index][this.currentIndex2].used){\n\t\t\t\t return this.disCountList[index][this.currentIndex2].coupon_title\n\t\t\t }else{\n\t\t\t\t return '不使用优惠券'\n\t\t\t }\n\t\t }else{\n\t\t\t return ''\n\t\t }\n\t\t},\n\t\t// 发起支付\n\t\tgoPay(res){\n\t\t\tconst {price,uniOrder} = res.data.data\n\t\t\t\n\t\t\t// 如果是微信支付\n\t\t\tif(this.currentPayVal == 'vx'){\n\t\t\t\t\n\t\t\t\tconst obj = {}\n\t\t\t\t// 微信支付支付，暂时注释\n\t\t\t\t// uni.requestPayment({\n\t\t\t\t// \tprovider:\"wxpay\",\n\t\t\t\t// \torderInfo:uniOrder,\n\t\t\t\t// \tsuccess:()=> {\n\t\t\t\t// \t\tconsole.log('支付成功')\n\t\t\t\t// \t}\n\t\t\t\t// })\n\t\t\t\tconsole.log('支付成功')\n\t\t\t}else if(this.currentPayVal == 'zfb'){\n\t\t\t\tconst obj = {}\n\t\t\t\t// 支付宝支付，暂时注释\n\t\t\t\t// uni.requestPayment({\n\t\t\t\t// \tprovider:\"alipay\",\n\t\t\t\t// \torderInfo:uniOrder,\n\t\t\t\t// \tsuccess:()=> {\n\t\t\t\t// \t\tconsole.log('支付成功')\n\t\t\t\t// \t}\n\t\t\t\t// })\n\t\t\t}\n\t\t}\n\t},\n\tcomputed:{\n\t\t// 判断用户token\n\t\t...mapGetters(['isToken']),\n\t\t\n\t\t// 判断是否包邮\n\t\tpost(){\n\t\t\treturn this.cartInfo.reduce((prev,x) => {\n\t\t\t\treturn prev*1 + x.cartInfo.reduce((prev,x) => {\n\t\t\t\t\treturn (prev + x.productInfo.postage)*1\n\t\t\t\t},0)\n\t\t\t},0).toFixed(2) + '元'\n\t\t},\n\t\t//总价 \n\t\ttotalPrice(){\n\t\t\tconst oldPrice = this.cartInfo.reduce((prev,x) => {\n\t\t\t\t\treturn prev*1 + x.cartInfo.reduce((prev2,x2) => {\n\t\t\t\t\t\treturn prev2 + x2.totalPrice * x2.cart_num\n\t\t\t\t\t},0)\n\t\t\t},0)\n\t\t\t// 根据是否有优惠信息计算总价格\n\t\t\tif(this.disCountList.length){\n\t\t\t\treturn this.disCountList.reduce((c,d) => {\n\t\t\t\t\treturn c-d.filter(x => x.used).reduce((a,x) => a*1+x.coupon_price*1,0)\n\t\t\t\t},oldPrice)\n\t\t\t}else{\n\t\t\t\treturn oldPrice + '元'\n\t\t\t}\n\t\t},\n\t\t\n\t\t\n\t}\n}\n","import mod from \"-!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./affirmOrder.vue?vue&type=style&index=0&id=5373e19c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../hubilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./affirmOrder.vue?vue&type=style&index=0&id=5373e19c&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}